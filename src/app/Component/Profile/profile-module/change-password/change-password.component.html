
<section>
  <div class="container py-5 ">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col col-xl-10">
        <div class="card shadow-lg" style=" border-radius: 50px;">
          <div class="row g-0">
            <div class="col-md-6 col-lg-5 d-none d-md-block">
              <img
                src="assets/pexels-ka.jpg"
                alt="login form"
                class="img-fluid h-100"
                style=" border-top-right-radius: 50px; border-bottom-right-radius: 50px;"
              />
            </div>
            <div class="col-md-6 col-lg-7 d-flex align-items-center" style="background-color: rgb(245, 245, 245);  border-top-left-radius: 50px; border-bottom-left-radius: 50px;">
              <div class="card-body p-4 p-lg-5 text-black">

                <form [formGroup]="newPasswordForm" (ngSubmit)="onSubmit()">
                  <div class="col-md-6 col-lg-5 d-none d-md-block mx-auto ">
                    <img
                      src="../../../assets/logoLogin.jpg"
                      alt="login form"
                      class="img-fluid h-50" style="border-radius: 2rem 0 0 2rem;"
                    />
                  </div>
                  <h5 class="fw-normal mb-3 pb-3 text-center fs-1 " style="letter-spacing: 1px;line-height:90px; ">تغيير كلمة المرور</h5>



                  <div class="form-outline mb-4">
                    <label class="form-label float-end fs-4" for="form2Example27"> كلمة المرور الحالية</label>
                    <!-- <input type="password" #currentPassword id="form2Example27" [class.is-invalid]="currentpasswordHash.invalid && currentpasswordHash.touched"  [class.is-valid]="currentpasswordHash.valid " formControlName="currentpasswordHash"  class="form-control form-control-lg" required  /> -->

                    <input type="password" #currentpasswordHash id="form2Example27"  formControlName="newcurrentpasswordHash"  class="form-control form-control-lg" required  />

                    <div *ngIf="newcurrentpasswordHash.invalid && newcurrentpasswordHash.touched">
                      <small class="text-danger float-end" *ngIf="newcurrentpasswordHash.errors.required">كلمة المرور مطلوب</small>
                      <small class="text-danger float-end" *ngIf="newcurrentpasswordHash.errors.minlength">يجب ادخال على الاقل 6 ارقام</small>
                  </div>
                  </div>

                  <div class="form-outline mb-4">
                    <label class="form-label float-end fs-4" for="form2Example27">كلمة المرور الجديدة </label>
                    <input type="password" id="form2Example27" [class.is-invalid]="newpasswordHash.invalid && newpasswordHash.touched"  [class.is-valid]="newpasswordHash.valid " formControlName="newpasswordHash" class="form-control form-control-lg" required  />

                    <!-- <input type="password" id="form2Example27" #newpasswordHash formControlName="newpasswordHash" class="form-control form-control-lg" required  /> -->

                    <div *ngIf="newpasswordHash.invalid && newpasswordHash.touched">
                      <small class="text-danger float-end" *ngIf="newpasswordHash.errors.required">كلمة المرور مطلوب</small>
                      <small class="text-danger float-end" *ngIf="newpasswordHash.errors.minlength">يجب ادخال على الاقل 6 ارقام</small>
                  </div>
                  </div>

                  <div class="form-outline mb-4">
                    <label class="form-label float-end fs-4" for="form2Example27"> تاكيد كلمة المرور  الجديدة</label>
                    <input type="password" id="form2Example27" [class.is-invalid]="newconfirmPassword.invalid && newconfirmPassword.touched"  [class.is-valid]="newconfirmPassword.valid " formControlName="newconfirmPassword" class="form-control form-control-llg" required />

                    <!-- <input type="password" id="form2Example27" #confirmPassword  formControlName="confirmPassword" class="form-control form-control-llg" required /> -->

                    <small class="text-danger float-end" *ngIf="newPasswordForm.errors?.misMatch">كلمة المرور غير متطابقة مع تاكيد كلمة المرور</small>
                    <div *ngIf="newconfirmPassword.invalid && newconfirmPassword.touched">
                        <small class="text-danger float-end" *ngIf="newconfirmPassword?.errors.required">تاكيد كلمة المرور مطلوب</small>
                    </div>
                  </div>

                  <div class="pt-1 mb-4 text-center">
                    <button class="btn myRegister" type="button" (click)="Logout()"  (click)="updatePassword(newpasswordHash.value , currentpasswordHash.value)"> تغيير كلمة المرور</button>
                  </div>
                </form>
                <!-- <div class="alert alert-warning" *ngIf="onSubmit && isSignUpFailed">
                  إنشاء الحساب خاطئ<br />{{ error }}
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
